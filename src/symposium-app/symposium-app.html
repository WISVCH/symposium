<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/wisvch-footer/wisvch-footer.html">

<link rel="import" href="../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">

<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">


<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">

<link rel="import" href="symposium-info.html">
<link rel="import" href="symposium-recommendations.html">
<link rel="import" href="symposium-program.html">
<link rel="import" href="symposium-location.html">
<link rel="import" href="symposium-committee.html">
<link rel="import" href="symposium-contact.html">

<dom-module id="symposium-app">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style>
      :host {
        display: block;
        min-height: 100vh;
      }

      paper-tab {
        min-width: 60px;
      }

      app-toolbar {
        color: var(--paper-grey-50);
        background-color: #231657;
        background-size: contain;
        background-repeat: no-repeat;
      }

      paper-icon-button {
        color: var(--paper-grey-50);
      }

      paper-tabs {
        --paper-tabs-selection-bar-color: var(--paper-orange-500);
        --paper-tabs-selection-bar: {
          height: 4px;
        };

        height: 100%;
      }

      .title {
        color: var(--paper-orange-500);
        font-weight: 600;
      }

      .content {
        max-width: 800px;
        margin: auto;
      }

      .page-content {
        padding: 0 0 16px 0;
      }

      .footer {
        display: block;
        padding: 32px 0;
        background-color: #231657;
        color: var(--paper-grey-50);
      }

      wisvch-footer {
        max-width: 768px;
        padding: 0 16px;
        margin: auto;
      }

      @media (max-width: 800px) {
        .content {
          padding: 0;
        }

        .page-content {
          padding: 0;
        }
      }
    </style>
    <script>
      if (window.location.href.indexOf("#/") === -1) {
        window.location.href += "#/";
      }
    </script>

    <!-- app-location binds to the app's URL -->
    <app-location route="{{route}}" use-hash-as-path></app-location>
    <app-route route="{{route}}" pattern="/:page" data="{{data}}"></app-route>

     <!-- force-narrow prevents the drawer from ever being displayed
       in persistent mode -->
    <app-drawer-layout force-narrow>
      <app-drawer id="drawer">

        <!-- an empty toolbar in the drawer looks like a
           continuation of the main toolbar. It's optional. -->
        <app-toolbar>
          <div main-title>
            Symposium
          </div>
        </app-toolbar>

        <!-- Nav on mobile: side nav menu -->
        <paper-menu selected="{{data.page}}" attr-for-selected="data-key" on-tap="scrollTop">
            <paper-item data-key="">Home</paper-item>
            <paper-item data-key="program">Program</paper-item>
            <!-- <paper-item data-key="lecturers">Lecturers</paper-item> -->
            <!-- <paper-item data-key="tickets">Tickets</paper-item> -->
        </paper-menu>
      </app-drawer>

      <app-header-layout fullbleed>
        <app-header id="header" class="main-header layout horizontal center" fixed effects="waterfall">

          <!-- Nav on mobile: side nav menu -->
          <template is="dom-if" if="{{!wideLayout}}">
            <app-toolbar>
              <paper-icon-button class="menu-button" icon="menu" drawer-toggle></paper-icon-button>
              <div main-title>
                Symposium
              </div>
            </app-toolbar>
          </template>

          <!-- Nav on desktop: tabs -->
          <template is="dom-if" if="{{wideLayout}}">
            <app-toolbar class="tabs-bar">
              <div main-title>
                Symposium
              </div>
              <div class="flex"></div>
              <paper-tabs selected="{{data.page}}" attr-for-selected="data-key" on-tap="scrollTop">
                <paper-tab data-key="">Home</paper-tab>
                <paper-tab data-key="program">Program</paper-tab>
                <!-- <paper-tab data-key="lecturers">Lecturers</paper-tab> -->
                <!-- <paper-tab data-key="tickets">Tickets</paper-tab> -->
              </paper-tabs>
            </app-toolbar>

          </template>

        </app-header>

        <iron-pages selected="{{data.page}}" attr-for-selected="data-key">
          <div class="content page-content" data-key="">
            <symposium-info></symposium-info>
            <symposium-recommendations></symposium-recommendations>
            <symposium-location></symposium-location>
            <symposium-committee></symposium-committee>
            <symposium-contact></symposium-contact>
          </div>
          <div class="content page-content" data-key="program">
            <symposium-program></symposium-program>
          </div>
          <!-- <div class="content page-content" data-key="lecturers"> -->
            <!-- Lecturers content -->
          <!-- </div> -->
          <!-- <div class="content page-content" data-key="tickets"> -->
            <!-- Tickets content -->
          <!-- </div> -->
        </iron-pages>

        <div class="footer">
          <wisvch-footer></wisvch-footer>
        </div>

      </app-header-layout>
    </app-drawer-layout>

    <iron-media-query query="min-width: 800px" query-matches="{{wideLayout}}"></iron-media-query>

  </template>

  <script>
    Polymer({
      is: 'symposium-app',

      properties: {
      },

      scrollTop: function() {
        this.$.header.scroll(0, 0);
        this.$.drawer.close();
      }
    });
  </script>
</dom-module>
