<link rel="import" href="../../../bower_components/gold-email-input/gold-email-input.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">

<dom-module id="symposium-form">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        display: block;
      }

      gold-email-input, paper-input {
        margin-bottom: 8px;
      }
    </style>

    <paper-input id="name" label="Your name" value="{{name}}" minlength="5" maxlength="150" error-message"Name too short!" auto-validate></paper-input>
    <gold-email-input id="email" label="Your email address" value="{{email}}" error-message="Email must be valid!" auto-validate></gold-email-input>

  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'symposium-form',

      properties: {
        name: String,
        email: String,
      },

      getName: function() {
        return this.name;
      },

      getEmail: function() {
        return this.email;
      },

      validate: function() {
        // Keep the if a lazy if, this way, both fields are validated
        if (!this.validateName() | !this.validateEmail()) {
          return false;
        }
        return true;
      },
      
      validateName: function() {
        if (this.name === '') {
          this.$.name.invalid = true;
          return false;
        }
        return this.$.name.validate();
      },

      validateEmail: function() {
        if (this.email === '') {
          this.$.email.invalid = true;
          return false;
        }
        return this.$.email.validate();
      },

    });
  })();
  </script>
</dom-module>
